# Homework 1 于宏正<br>

测试sklearn中以下聚类算法在两个数据集上的聚类效果.<br>

* KMeans<br>
* AffinityPropagation<br>
* MeanShift<br>
* SpectralClustering<br>
* DBSCAN<br>
* WardHierarchicalClustering<br>

<br>
本实验使用随机网格搜索的方式(RandomGridSearch), 寻找以上算法的最佳性能.<br>
使用以下度量: <br>

* Normalized_mutual<br>
* homogeneity<br>
* completeness<br>
* metric : 这是自定义的度量,用于衡量整体性能, 简单设计为以上三个度量的平均值<br>

随机搜索步数设置为每个算法20次, 用以搜索最佳参数,实验结果如下 : 

## digit
|method|metric|normalized_mutual|homogeneity|completeness|
|:----:|:----:|:----:|:----:|:----:|
|KMeans|0.68668|0.68612|0.72061|0.65330|
|AffinityPropagation|0.69886|0.67737|0.49819|0.92102|
|MeanShift|0.66470|0.61732|0.38377|0.99301|
|SpectralClustering|0.80397|0.80374|0.82609|0.78208|
|AgglomerativeClustering|0.73736|0.73662|0.77529|0.70017|
|DBSCAN|0.41667|0.25000|1.00000|0.00000|
|WardHierarchicalClustering|0.72532|0.72387|0.77768|0.67440|

## newsgroups<br>

|method|metric|normalized_mutual|homogeneity|completeness|
|:----:|:----:|:----:|:----:|:----:|
|KMeans|0.59821|0.59671|0.64363|0.55429|
|AffinityPropagation|0.66761|1.16110|0.79435|0.04737|
|MeanShift|0.75000|1.25000|1.00000|0.00000|
|SpectralClustering|0.58772|0.58757|0.60118|0.57441|
|AgglomerativeClustering|0.15903|0.14513|0.23775|0.09419|
|DBSCAN|0.75000|1.25000|1.00000|0.00000|
|WardHierarchicalClustering|0.32158|0.31356|0.40921|0.24197|

<br><br>
附上完整的各个算法的参数和对应的性能的网格搜索表 : 
## Appendix<br>
### digit<br>

KMeans

|param_init|param_algorithm|mean_test_refit|mean_test_nm|mean_test_comp|mean_test_homo|mean_fit_time|
|:----:|:----:|:----:|:----:|:----:|:----:|:----:|
|k-means++|full|0.68668|0.68612|0.72061|0.65330|0.11369|
|k-means++|elkan|0.67939|0.67877|0.71521|0.64418|0.11137|
|random|full|0.67496|0.67467|0.69944|0.65078|0.12300|
|random|elkan|0.64280|0.64212|0.67621|0.61007|0.10372|
<br><br>

AffinityPropagation

|param_damping|param_convergence_iter|mean_test_refit|mean_test_nm|mean_test_comp|mean_test_homo|mean_fit_time|
|:----:|:----:|:----:|:----:|:----:|:----:|:----:|
|0.60000|12.00000|0.69886|0.67737|0.49819|0.92102|0.29355|
|0.60000|6.00000|0.69886|0.67737|0.49819|0.92102|0.29421|
|0.60000|24.00000|0.69886|0.67737|0.49819|0.92102|0.30452|
|0.50000|24.00000|0.69616|0.67438|0.49464|0.91944|0.30352|
|0.50000|12.00000|0.69616|0.67438|0.49464|0.91944|0.33942|
|0.50000|6.00000|0.69616|0.67438|0.49464|0.91944|0.29687|
|0.70000|30.00000|0.69176|0.67235|0.50149|0.90144|0.30452|
|0.70000|12.00000|0.69176|0.67235|0.50149|0.90144|0.29787|
|0.70000|24.00000|0.69176|0.67235|0.50149|0.90144|0.31782|
|0.70000|6.00000|0.69176|0.67235|0.50149|0.90144|0.29455|
|0.80000|12.00000|0.67551|0.66431|0.53102|0.83120|0.29621|
|0.80000|18.00000|0.67551|0.66431|0.53102|0.83120|0.29754|
|0.80000|24.00000|0.67551|0.66431|0.53102|0.83120|0.29421|
|0.80000|30.00000|0.67551|0.66431|0.53102|0.83120|0.32713|
|0.70000|1.00000|0.21171|0.15019|0.41876|0.06618|0.14295|
|0.90000|18.00000|0.21171|0.15019|0.41876|0.06618|0.30851|
|0.90000|12.00000|0.21171|0.15019|0.41876|0.06618|0.31183|
|0.90000|24.00000|0.21171|0.15019|0.41876|0.06618|0.35272|
|0.80000|1.00000|0.21171|0.15019|0.41876|0.06618|0.14927|
|0.60000|1.00000|0.21171|0.15019|0.41876|0.06618|0.14594|
<br><br>

MeanShift

|param_bandwidth|mean_test_refit|mean_test_nm|mean_test_comp|mean_test_homo|mean_fit_time|
|:----:|:----:|:----:|:----:|:----:|:----:|
|1.94684|0.66470|0.61732|0.38377|0.99301|1.06984|
|49.02625|0.41667|0.25000|1.00000|0.00000|1.00332|
|38.93673|0.41667|0.25000|1.00000|0.00000|1.11336|
|97.34182|0.41667|0.25000|1.00000|0.00000|0.91422|
|194.68365|0.41667|0.25000|1.00000|0.00000|0.89029|
|24.46836|0.41667|0.25000|1.00000|0.00000|1.41590|
|29.46836|0.41667|0.25000|1.00000|0.00000|1.24101|
|8.14613|0.15583|0.11035|0.31845|0.03870|4.10172|
|9.46836|0.14516|0.08560|0.32751|0.02238|2.88264|
|9.79410|0.13914|0.07580|0.32371|0.01792|2.83877|
|19.46836|0.12199|0.03248|0.33017|0.00333|1.56518|
|10.90698|0.11803|0.04879|0.29727|0.00802|2.43784|
|14.46836|0.11613|0.04585|0.29535|0.00718|2.02527|
<br><br>

SpectralClustering

|param_assign_labels|param_affinity|param_n_neighbors|mean_test_refit|mean_test_nm|mean_test_comp|mean_test_homo|mean_fit_time|
|:----:|:----:|:----:|:----:|:----:|:----:|:----:|:----:|
|kmeans|nearest_neighbors|7.00000|0.80397|0.80374|0.82609|0.78208|0.17518|
|discretize|nearest_neighbors|7.00000|0.79734|0.79725|0.81178|0.78300|0.14527|
|kmeans|nearest_neighbors|10.00000|0.78937|0.78925|0.80598|0.77287|0.18482|
|discretize|nearest_neighbors|10.00000|0.77356|0.77348|0.78712|0.76008|0.15159|
|kmeans|nearest_neighbors|15.00000|0.77093|0.77084|0.78488|0.75707|0.20044|
|discretize|nearest_neighbors|3.00000|0.75565|0.75494|0.78992|0.72209|0.19047|
|discretize|nearest_neighbors|30.00000|0.72564|0.72563|0.73031|0.72099|0.20577|
|kmeans|nearest_neighbors|50.00000|0.68394|0.68391|0.69079|0.67711|0.28423|
|discretize|nearest_neighbors|50.00000|0.68147|0.68147|0.68452|0.67843|0.23370|
|discretize|rbf|30.00000|0.11817|0.06699|0.27078|0.01673|54.17608|
|discretize|rbf|15.00000|0.11817|0.06699|0.27078|0.01673|60.13383|
|discretize|rbf|3.00000|0.11817|0.06699|0.27078|0.01673|53.57703|
|discretize|rbf|10.00000|0.11817|0.06699|0.27078|0.01673|54.84466|
|discretize|rbf|50.00000|0.11817|0.06699|0.27078|0.01673|54.28416|
|discretize|rbf|7.00000|0.11817|0.06699|0.27078|0.01673|53.32737|
|kmeans|rbf|10.00000|0.11345|0.02597|0.31216|0.00222|63.24394|
|kmeans|rbf|30.00000|0.11345|0.02597|0.31216|0.00222|54.60562|
|kmeans|rbf|3.00000|0.11345|0.02597|0.31216|0.00222|63.86771|
|kmeans|rbf|7.00000|0.11345|0.02597|0.31216|0.00222|55.49125|
|kmeans|rbf|50.00000|0.11345|0.02597|0.31216|0.00222|54.89684|
<br><br>

AgglomerativeClustering

|param_affinity|param_linkage|mean_test_refit|mean_test_nm|mean_test_comp|mean_test_homo|mean_fit_time|
|:----:|:----:|:----:|:----:|:----:|:----:|:----:|
|cosine|average|0.73736|0.73662|0.77529|0.70017|0.05119|
|cosine|complete|0.62472|0.62468|0.63331|0.61618|0.05551|
|l1|complete|0.48115|0.47638|0.55794|0.40911|0.05152|
|manhattan|complete|0.48115|0.47638|0.55794|0.40911|0.05121|
|l1|average|0.23314|0.18161|0.44203|0.07579|0.04920|
|manhattan|average|0.23314|0.18161|0.44203|0.07579|0.04887|
|euclidean|complete|0.20664|0.17333|0.35930|0.08730|0.05918|
|l2|complete|0.20664|0.17333|0.35930|0.08730|0.05417|
|euclidean|average|0.15179|0.10238|0.31988|0.03311|0.05254|
|l2|average|0.15179|0.10238|0.31988|0.03311|0.05254|
|l1|single|0.13859|0.07502|0.32331|0.01744|0.03690|
|manhattan|single|0.13859|0.07502|0.32331|0.01744|0.03690|
|euclidean|single|0.13342|0.07295|0.31009|0.01720|0.03989|
|l2|single|0.13342|0.07295|0.31009|0.01720|0.03989|
|cosine|single|0.13167|0.07206|0.30596|0.01699|0.03790|
<br><br>

DBSCAN

|param_eps|param_min_samples|param_metric|mean_test_refit|mean_test_nm|mean_test_comp|mean_test_homo|mean_fit_time|
|:----:|:----:|:----:|:----:|:----:|:----:|:----:|:----:|
|1.50000|10.00000|euclidean|0.41667|0.25000|1.00000|0.00000|0.20811|
|20.00000|50.00000|l1|0.41667|0.25000|1.00000|0.00000|0.11370|
|3.00000|100.00000|l1|0.41667|0.25000|1.00000|0.00000|0.10738|
|1.50000|100.00000|l2|0.41667|0.25000|1.00000|0.00000|0.20812|
|1.00000|50.00000|l2|0.41667|0.25000|1.00000|0.00000|0.20346|
|1.00000|9.00000|l1|0.41667|0.25000|1.00000|0.00000|0.10073|
|0.20000|9.00000|l2|0.41667|0.25000|1.00000|0.00000|0.18617|
|0.50000|9.00000|l1|0.41667|0.25000|1.00000|0.00000|0.09574|
|3.00000|20.00000|euclidean|0.41667|0.25000|1.00000|0.00000|0.21309|
|0.50000|50.00000|l2|0.41667|0.25000|1.00000|0.00000|0.19648|
|5.00000|7.00000|l1|0.41667|0.25000|1.00000|0.00000|0.10936|
|1.00000|20.00000|l1|0.41667|0.25000|1.00000|0.00000|0.10074|
|20.00000|20.00000|l1|0.36380|0.29357|0.65748|0.14037|0.11370|
|20.00000|2.00000|l2|0.10630|0.03409|0.28057|0.00424|0.23504|
|20.00000|20.00000|euclidean|0.09574|0.02980|0.25386|0.00357|0.23471|
|20.00000|50.00000|l2|0.09574|0.02980|0.25386|0.00357|0.23371|
|20.00000|10.00000|l2|0.09574|0.02980|0.25386|0.00357|0.23471|
|20.00000|7.00000|euclidean|0.09574|0.02980|0.25386|0.00357|0.23504|
|50.00000|100.00000|l1|0.09044|0.02914|0.23843|0.00375|0.13996|
|10.00000|9.00000|euclidean|0.06628|0.03047|0.16259|0.00579|0.24468|
<br><br>

WardHierarchicalClustering

|param_linkage|mean_test_refit|mean_test_nm|mean_test_comp|mean_test_homo|mean_fit_time|
|:----:|:----:|:----:|:----:|:----:|:----:|
|ward|0.72532|0.72387|0.77768|0.67440|0.05386|


### newsgroups<br>

KMeans

|param_init|param_algorithm|mean_test_refit|mean_test_nm|mean_test_comp|mean_test_homo|mean_fit_time|
|:----:|:----:|:----:|:----:|:----:|:----:|:----:|
|k-means++|elkan|0.59821|0.59671|0.64363|0.55429|15.53054|
|random|elkan|0.59570|0.59442|0.64203|0.55065|17.75422|
|random|full|0.57510|0.57332|0.62948|0.52251|17.48594|
|k-means++|full|0.52247|0.52014|0.58202|0.46526|18.05385|
<br><br>

AffinityPropagation

|param_damping|param_convergence_iter|mean_test_refit|mean_test_nm|mean_test_comp|mean_test_homo|mean_fit_time|
|:----:|:----:|:----:|:----:|:----:|:----:|:----:|
|0.90000|24.00000|0.66761|1.16110|0.79435|0.04737|3.17784|
|0.90000|12.00000|0.66761|1.16110|0.79435|0.04737|3.13230|
|0.90000|18.00000|0.66761|1.16110|0.79435|0.04737|3.14792|
|0.50000|24.00000|0.48557|0.43105|0.23500|0.79067|3.36401|
|0.50000|12.00000|0.48557|0.43105|0.23500|0.79067|3.34273|
|0.50000|6.00000|0.48557|0.43105|0.23500|0.79067|3.31748|
|0.60000|24.00000|0.48462|0.43028|0.23469|0.78888|3.39793|
|0.60000|6.00000|0.48462|0.43028|0.23469|0.78888|3.30783|
|0.60000|12.00000|0.48462|0.43028|0.23469|0.78888|3.30816|
|0.70000|30.00000|0.48340|0.42969|0.23509|0.78541|3.36368|
|0.70000|12.00000|0.48340|0.42969|0.23509|0.78541|3.31514|
|0.70000|24.00000|0.48340|0.42969|0.23509|0.78541|3.25597|
|0.70000|6.00000|0.48340|0.42969|0.23509|0.78541|3.26195|
|0.60000|1.00000|0.42610|0.58580|0.56475|0.12775|1.63097|
|0.80000|12.00000|0.40999|0.37367|0.21916|0.63714|3.20277|
|0.80000|18.00000|0.40999|0.37367|0.21916|0.63714|3.21441|
|0.80000|24.00000|0.40999|0.37367|0.21916|0.63714|3.22106|
|0.80000|30.00000|0.40999|0.37367|0.21916|0.63714|3.21775|
|0.80000|1.00000|0.31693|0.31074|0.53719|0.10286|2.13928|
|0.70000|1.00000|0.24101|0.23433|0.30634|0.18236|1.83510|
<br><br>

MeanShift

|param_bandwidth|mean_test_refit|mean_test_nm|mean_test_comp|mean_test_homo|mean_fit_time|
|:----:|:----:|:----:|:----:|:----:|:----:|
|1.38173|0.75000|1.25000|1.00000|0.00000|845.57759|
|1.40117|0.75000|1.25000|1.00000|0.00000|915.87747|
|1.40841|0.75000|1.25000|1.00000|0.00000|980.58753|
|1.41421|0.75000|1.25000|1.00000|0.00000|1024.84665|
|2.80276|0.75000|1.25000|1.00000|0.00000|693.05328|
|7.00691|0.75000|1.25000|1.00000|0.00000|587.32946|
|14.01382|0.75000|1.25000|1.00000|0.00000|471.85869|
|2.85785|0.75000|1.25000|1.00000|0.00000|667.33394|
|5.70569|0.75000|1.25000|1.00000|0.00000|667.16560|
|8.55354|0.75000|1.25000|1.00000|0.00000|569.93998|
|11.40138|0.75000|1.25000|1.00000|0.00000|498.69099|
|0.14014|0.55488|0.47751|0.24099|0.94615|27.14911|
|0.01000|0.55488|0.47750|0.24098|0.94615|22.75514|
<br><br>

SpectralClustering

|param_assign_labels|param_affinity|param_n_neighbors|mean_test_refit|mean_test_nm|mean_test_comp|mean_test_homo|mean_fit_time|
|:----:|:----:|:----:|:----:|:----:|:----:|:----:|:----:|
|discretize|nearest_neighbors|50.00000|0.58772|0.58757|0.60118|0.57441|65.81798|
|kmeans|nearest_neighbors|50.00000|0.57039|0.56997|0.59444|0.54677|66.09915|
|discretize|nearest_neighbors|30.00000|0.52141|0.52094|0.54876|0.49453|66.40118|
|kmeans|nearest_neighbors|10.00000|0.45458|0.44682|0.55883|0.35808|64.56827|
|discretize|nearest_neighbors|10.00000|0.44826|0.44486|0.51424|0.38569|64.51098|
|kmeans|nearest_neighbors|15.00000|0.43755|0.43313|0.51215|0.36735|65.60970|
|discretize|nearest_neighbors|7.00000|0.42754|0.42201|0.51380|0.34681|63.18318|
|discretize|rbf|15.00000|0.42598|0.42286|0.49061|0.36448|1.65066|
|discretize|rbf|30.00000|0.42598|0.42286|0.49061|0.36448|1.68712|
|discretize|rbf|3.00000|0.42598|0.42286|0.49061|0.36448|1.62983|
|discretize|rbf|10.00000|0.42598|0.42286|0.49061|0.36448|1.64024|
|discretize|rbf|50.00000|0.42598|0.42286|0.49061|0.36448|1.65587|
|discretize|rbf|7.00000|0.42598|0.42286|0.49061|0.36448|1.65066|
|kmeans|nearest_neighbors|7.00000|0.41557|0.40144|0.55311|0.29216|63.32377|
|kmeans|rbf|7.00000|0.37699|0.36696|0.48783|0.27618|1.73397|
|kmeans|rbf|10.00000|0.37699|0.36696|0.48783|0.27618|1.76000|
|kmeans|rbf|30.00000|0.37699|0.36696|0.48783|0.27618|1.74959|
|kmeans|rbf|3.00000|0.37699|0.36696|0.48783|0.27618|1.79125|
|kmeans|rbf|50.00000|0.37699|0.36696|0.48783|0.27618|1.71835|
|discretize|nearest_neighbors|3.00000|0.07621|0.05014|0.16303|0.01547|60.43903|
<br><br>

AgglomerativeClustering 

|param_affinity|param_linkage|mean_test_refit|mean_test_nm|mean_test_comp|mean_test_homo|mean_fit_time|
|:----:|:----:|:----:|:----:|:----:|:----:|:----:|
|cosine|average|0.15903|0.14513|0.23775|0.09419|23.95795|
|euclidean|average|0.15724|0.14361|0.23446|0.09366|23.93192|
|l2|average|0.15724|0.14361|0.23446|0.09366|23.95795|
|l1|complete|0.11721|0.07204|0.25959|0.02000|23.98921|
|manhattan|complete|0.11721|0.07204|0.25959|0.02000|23.99962|
|cosine|complete|0.08133|0.06873|0.14120|0.03405|23.98398|
|l1|average|0.08072|0.02700|0.21170|0.00347|23.99961|
|manhattan|average|0.08072|0.02700|0.21170|0.00347|24.03606|
|euclidean|complete|0.08032|0.08012|0.08587|0.07496|24.01525|
|l2|complete|0.08032|0.08012|0.08587|0.07496|23.95793|
|euclidean|single|0.07937|0.02499|0.21015|0.00298|23.80695|
|l2|single|0.07937|0.02499|0.21015|0.00298|23.79654|
|cosine|single|0.07937|0.02499|0.21015|0.00298|23.82256|
|l1|single|0.07785|0.02448|0.20617|0.00291|23.78613|
|manhattan|single|0.07785|0.02448|0.20617|0.00291|23.80694|
<br><br>

DBSCAN

|param_eps|param_min_samples|param_metric|mean_test_refit|mean_test_nm|mean_test_comp|mean_test_homo|mean_fit_time|
|:----:|:----:|:----:|:----:|:----:|:----:|:----:|:----:|
|1.50000|10.00000|euclidean|0.75000|1.25000|1.00000|0.00000|97.01903|
|20.00000|10.00000|l2|0.75000|1.25000|1.00000|0.00000|4.49894|
|1.50000|100.00000|l2|0.75000|1.25000|1.00000|0.00000|97.02425|
|20.00000|50.00000|l2|0.75000|1.25000|1.00000|0.00000|4.50416|
|1.00000|9.00000|l1|0.75000|1.25000|1.00000|0.00000|6.88381|
|0.50000|50.00000|l2|0.75000|1.25000|1.00000|0.00000|28.07159|
|1.00000|20.00000|l1|0.75000|1.25000|1.00000|0.00000|6.89422|
|10.00000|9.00000|euclidean|0.75000|1.25000|1.00000|0.00000|27.12909|
|20.00000|20.00000|euclidean|0.75000|1.25000|1.00000|0.00000|4.50937|
|20.00000|7.00000|euclidean|0.75000|1.25000|1.00000|0.00000|4.51458|
|0.50000|9.00000|l1|0.75000|1.25000|1.00000|0.00000|4.58226|
|0.20000|9.00000|l2|0.75000|1.25000|1.00000|0.00000|10.98182|
|50.00000|100.00000|l1|0.75000|1.25000|1.00000|0.00000|66.31265|
|1.00000|50.00000|l2|0.75000|1.25000|1.00000|0.00000|96.89407|
|20.00000|2.00000|l2|0.75000|1.25000|1.00000|0.00000|4.39481|
|3.00000|100.00000|l1|0.75000|1.25000|1.00000|0.00000|42.69317|
|3.00000|20.00000|euclidean|0.75000|1.25000|1.00000|0.00000|97.18046|
|20.00000|50.00000|l1|0.21338|0.17354|0.46624|0.00036|66.40118|
|20.00000|20.00000|l1|0.21338|0.17354|0.46624|0.00036|66.50011|
|5.00000|7.00000|l1|0.03134|0.01909|0.06960|0.00534|64.71407|
<br><br>

WardHierarchicalClustering

|param_linkage|mean_test_refit|mean_test_nm|mean_test_comp|mean_test_homo|mean_fit_time|
|:----:|:----:|:----:|:----:|:----:|:----:|
|ward|0.32158|0.31356|0.40921|0.24197|25.34594|